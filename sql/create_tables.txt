CREATE TABLE Cliente(DNI VARCHAR(9), Cuenta_bancaria VARCHAR2(24) NOT NULL, Nombre VARCHAR2(20) NOT NULL, Apellidos VARCHAR2(40) NOT NULL, Tel VARCHAR(9) NOT NULL, Direccion VARCHAR2(120) NOT NULL, PRIMARY KEY (DNI))
CREATE TABLE Propiedad(ID integer GENERATED ALWAYS as IDENTITY(START with 1000000000 INCREMENT by 1), Ref_catastral VARCHAR2(20) NOT NULL, Tamano INT, N_habitaciones INT, N_ba√±os INT, Garaje VARCHAR(2), Terraza VARCHAR(2), Certificado VARCHAR(1), Localizacion VARCHAR2(50) NOT NULL, CP VARCHAR(5) NOT NULL, Estado VARCHAR2(20) NOT NULL, Disponibilidad VARCHAR2(20) NOT NULL, DNI_propietario REFERENCES Cliente(DNI), PRIMARY KEY (ID), UNIQUE (Ref_catastral))
CREATE TABLE Oferta(DNI REFERENCES Cliente(DNI), ID REFERENCES Propiedad(ID), Precio VARCHAR2(20) NOT NULL, PRIMARY KEY (DNI,ID))
CREATE TABLE PonerAlaVenta(DNI REFERENCES Cliente(DNI), ID REFERENCES Propiedad(ID), Precio VARCHAR2(20) NOT NULL, PRIMARY KEY (DNI,ID))
CREATE TABLE CompraVenta(DNI_Propietario REFERENCES Cliente(DNI), DNI_Comprador REFERENCES Cliente(DNI), ID REFERENCES Propiedad(ID), Precio VARCHAR2(20) NOT NULL, PRIMARY KEY (DNI_Propietario,DNI_Comprador,ID))
CREATE TABLE Servicio(DNI REFERENCES Cliente(DNI), ID REFERENCES Propiedad(ID), Estado_Pago VARCHAR2(9) NOT NULL, Estado VARCHAR2(10) NOT NULL, Tipo_Servicio VARCHAR2(10) NOT NULL, PRIMARY KEY (DNI,ID))
